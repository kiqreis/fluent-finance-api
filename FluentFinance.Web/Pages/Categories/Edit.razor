@page "/categories/edit/{id}"
@inherits EditCategoryPage

<MudText Typo="Typo.h6">Edit category</MudText>

@if (IsBusy)
{
   <MudPaper Class="p-8 mt-4">
      <MudSkeleton Height="55px"/>
      <MudSkeleton Height="110px"/>
      <MudSkeleton Height="55px"/>
      <MudSkeleton Height="110px"/>
      <MudSkeleton Height="55px"/>
   </MudPaper>
}
else
{
   <MudPaper Class="pa-8 mt-4">
      <EditForm Model="@InputModel" OnValidSubmit="OnValidSubmitAsync">
         <div Style="display: flex; justify-content: center; align-items: center; width: 100%;">
            <MudText Typo="Typo.h6" Color="Color.Primary">Edit category</MudText>
         </div>
         <DataAnnotationsValidator />
         <ValidationSummary />

         <MudTextField Label="Title"
                       HelperText="Required field"
                       @bind-Value="InputModel.Title"
                       For="@(() => InputModel.Title)" />

         <MudTextField Label="Description"
                       Lines="5"
                       HelperText="Required field"
                       @bind-Value="InputModel.Description"
                       For="@(() => InputModel.Description)" />

         <MudButton ButtonType="ButtonType.Submit"
                    Variant="Variant.Filled"
                    Color="Color.Primary"
                    Disabled="@IsBusy"
                    Class="mt-6">
            Update your category
         </MudButton>
      </EditForm>
   </MudPaper>
}